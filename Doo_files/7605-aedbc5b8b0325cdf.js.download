"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7605],{17343:function(a,b,c){c.d(b,{Z:function(){return C}});var d=c(14924),e=c(26042),f=c(69396),g=c(99534),h=c(10253),i=c(85893),j=c(67294),k=c(77910),l=c(57424),m=c(7297),n=c(10071),o=c(87379),p=c(69706);function q(){var a=(0,m.Z)(["\n  from {\n    transform: translateY(","px);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n"]);return q=function(){return a},a}function r(){var a=(0,m.Z)(["\n  position: fixed;\n  bottom: ","px;\n  left: 50vw;\n  transform: translateX(-50%);\n  z-index: ",";\n"]);return r=function(){return a},a}function s(){var a=(0,m.Z)(["\n    "," 300ms ease-in-out\n  "]);return s=function(){return a},a}function t(){var a=(0,m.Z)(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n  display: inline-flex;\n  min-height: ","px;\n  animation: ",";\n  animation-fill-mode: both;\n  & > * {\n    width: 100%;\n  }\n  width: calc(100vw - ","px);\n  @media screen and (min-width: ","px) {\n    width: max-content;\n  }\n"]);return t=function(){return a},a}function u(){var a=(0,m.Z)(["\n  white-space: normal;\n  @media screen and (min-width: ","px) {\n    white-space: nowrap;\n  }\n"]);return u=function(){return a},a}var v=(0,o.keyframes)(q(),n.Spacing.Small),w=o.default.div.withConfig({componentId:"sc-e0069eb1-0"})(r(),function(a){return a.bottom?a.bottom:n.Spacing.Large},function(a){return a.zIndex?a.zIndex:p.UL}),x=(0,n.withTheming)((0,o.default)(n.Inset).attrs(function(){return{size:n.Spacing.Large,isSquished:!0}}).withConfig({componentId:"sc-e0069eb1-1"})(t(),function(a){var b=a.backgroundColor,c=a.theme;return b||c.Colors.ToastInformationalBackground},function(a){var b=a.theme;return"Pill"===b.Shape.Toast?2*n.Spacing.Large:b.BorderRadius.ToastContainer},n.Shadows.Medium,n.Spacing.XxLarge,(0,o.css)(s(),v),n.Spacing.XLarge,n.Breakpoints.Mobile)),y=(0,o.default)(n.Text).withConfig({componentId:"sc-e0069eb1-2"})(u(),361),z=c(24906),A=function(a){var b,c=a.action,d=a.text,e=a.backgroundColor,f=a.onClick,g=a.styleOverride,h=j.useContext(n.ThemingContext),k=void 0!==c&&void 0!==c.text&&"function"==typeof c.onClick,l=function(a){null==c||c.onClick(),a.stopPropagation()};return(0,i.jsx)(x,{onClick:f,backgroundColor:e,role:"alert","aria-live":"off",children:(0,i.jsxs)(n.InlineChildren,{alignItems:n.InlineChildren.Alignment.Center,justifyContent:(null==g?void 0:g.justifyContent)||n.InlineChildren.Justification.SpaceBetween,size:n.InlineChildren.Sizes.XSmall,children:[(0,i.jsx)(n.Text,{styles:n.Text.Styles.ToastBody,color:n.Text.Colors.ToastInformationalForeground,children:d}),k&&(0,i.jsx)(n.Theming,{overrides:{Colors:{ButtonFlatPrimaryForeground:(b=h).Colors.ToastInformationalAction,ButtonFlatPrimaryForegroundDisabled:b.Colors.ToastInformationalActionDisabled,ButtonFlatPrimaryForegroundHovered:b.Colors.ToastInformationalActionHovered,ButtonFlatPrimaryForegroundPressed:b.Colors.ToastInformationalActionPressed},Typography:{TextStyles:{ToastAction:b.Typography.TextStyles.ToastAction}}},children:(0,i.jsx)(z.default,{isInline:!0,type:z.default.Types.FlatPrimary,onClick:l,padding:z.default.Padding.None,children:(0,i.jsx)(y,{color:n.Text.Colors.ButtonFlatPrimaryForeground,styles:n.Text.Styles.ToastAction,children:c.text})})})]})})},B=function(){var a,b,c=(0,l.R)(),d=c.toasts,f=c.bottomSpacing,g=d[d.length-1];return g?(0,i.jsx)(w,{zIndex:null==g?void 0:null===(a=g.styleOverride)||void 0===a?void 0:a.zIndex,bottom:f||(null==g?void 0:null===(b=g.styleOverride)||void 0===b?void 0:b.bottom),"data-anchor-id":"AppToast",children:(0,i.jsx)(A,(0,e.Z)({},g),g.toastId)}):null},C=function(a){var b=a.children,c=(0,h.Z)(j.useState({}),2),m=c[0],n=c[1],o=j.useRef(m);o.current=m;var p=j.useRef({}),q=(0,h.Z)(j.useState(),2),r=q[0],s=q[1],t=j.useCallback(function(a){if(o.current[a]){var b=p.current[a];window.clearTimeout(b),delete p.current[a],n(function(b){var c=(0,e.Z)({},b);return delete c[a],o.current=c,c})}},[]),u=j.useCallback(function(a){var b=a.duration,c=(0,g.Z)(a,["duration"]),h=(0,k.lY)();n((0,f.Z)((0,e.Z)({},o.current),(0,d.Z)({},h,c)));var i=window.setTimeout(function(){t(h)},b);return p.current[h]=i,h},[t]),v=j.useMemo(function(){return{addToast:u,removeToast:t,toasts:Object.entries(m).map(function(a){var b=(0,h.Z)(a,2),c=b[0],d=b[1];return(0,f.Z)((0,e.Z)({},d),{toastId:c})}),bottomSpacing:r,setBottomSpacing:s}},[u,t,m,r,s]);return j.useEffect(function(){return function(){Object.values(p.current).map(window.clearTimeout)}},[]),(0,i.jsxs)(l.Z,{contextValues:v,children:[b,(0,i.jsx)(B,{})]})}},23837:function(a,b,c){var d,e;c.d(b,{Y:function(){return d}}),(e=d||(d={})).crash="crash",e.success="success",e.degraded="degraded",e.notfound="not-found"},27605:function(a,b,c){c.d(b,{I:function(){return az}});var d=c(26042),e=c(69396),f=c(85893),g=c(67294),h=c(5152),i=c.n(h),j=c(9008),k=c.n(j),l=c(60118),m=c(52697),n=c(39838),o=c(65885),p=c(17343),q=c(90414),r=c(4082),s=c(92931),t=c(33405),u=c(1272),v=c(40144),w=c(22387),x=c(5652),y=c(23837),z=c(38597),A=c(87486),B=c(93793),C=c(93395),D=c(67933),E=c(39056),F=c(3532),G=c(83656),H=c(42611),I=c(13226),J=c(54824),K=c(69122),L=c(59554),M=c(60756),N=c(88733),O=c(43131),P=c(29617),Q=c(47568),R=c(10253),S=c(7297),T=c(34051),U=c.n(T),V=c(44119),W=c.n(V),X=c(43947),Y=c(65858),Z=c(4298),$=c.n(Z),_=c(53698),aa=c(51112),ab=c(58090),ac=c(89261),ad=c(12691),ae=c(47715),af=c(70573);function ag(){var a=(0,S.Z)(["\n  query deviceAttestationProfile {\n    profile: deviceAttestationProfile {\n      userId\n      deviceId\n      deviceSessionId\n    }\n  }\n"]);return ag=function(){return a},a}function ah(){var a=(0,S.Z)(["\n  query deviceAttestation {\n    deviceAttestation\n  }\n"]);return ah=function(){return a},a}var ai=W()(ag()),aj=W()(ah()),ak=function(){var a=g.useMemo(function(){return(0,ac.vQ)("dd_session_id")},[]),b=(0,af.useDVSBoolean)(ae.PR.cxBFCacheDiscovery,!1),c=(0,af.useDVSBoolean)(ae.PR.bfCacheMarketplaceStorePage,!1);return b||c?null:a?(0,f.jsx)($(),{defer:!0,type:"text/javascript",id:"sig-api","data-order-session-id":a,src:"https://cdn-scripts.signifyd.com/api/script-tag.js"}):null},al=i()(function(){return Promise.resolve(ak)},{ssr:!1}),am=function(){var a=(0,ad.tv)().pathname,b=(0,R.Z)(g.useState(!1),2),c=b[0],d=b[1],e=g.useMemo(function(){return(0,ac.vQ)("dd_device_id")},[]);return g.useEffect(function(){if(c){var a;null===(a=window.RISKX)||void 0===a||a.go(null==window?void 0:window.location.href)}},[a,c]),e?(0,f.jsx)($(),{src:"https://beacon.riskified.com?shop=".concat("doordash.com","&sid=").concat(e),id:"riskified-js",strategy:"afterInteractive",onReady:function(){d(!0)}}):null},an=i()(function(){return Promise.resolve(am)},{ssr:!1}),ao=function(){var a=(0,_.Z)().experience,b=(0,aa.$C)("/graphql",void 0,a);return{setupDeviceAttestation:g.useCallback((0,Q.Z)(U().mark(function a(){var c,d;return U().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.query({query:ai});case 2:if(c=a.sent.data){a.next=5;break}return a.abrupt("return");case 5:if(c.profile){a.next=7;break}return a.abrupt("return");case 7:return(d=window._sift=window._sift||[]).push(["_setAccount",ab.Z.siftAccountDFP]),c.profile.userId&&d.push(["_setUserId",c.profile.userId]),d.push(["_setSessionId",c.profile.deviceSessionId]),d.push(["_trackPageview"]),a.next=14,b.query({query:aj});case 14:case"end":return a.stop()}},a)})),[b])}},ap=function(){var a=ao().setupDeviceAttestation;return g.useEffect(function(){a().catch(function(a){X.Tb(a)})},[a]),null},aq=function(){var a=(0,R.Z)(g.useState(!1),2),b=a[0],c=a[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)($(),{src:ab.Z.siftJavascriptScriptUrl,id:ab.Z.siftJavascriptScriptId,strategy:"afterInteractive",onReady:function(){c(!0)}}),b?(0,f.jsx)(ap,{}):null]})},ar=function(){return(0,f.jsxs)(Y.SV,{showDialog:!1,beforeCapture:function(a){a.setTag("component","FraudRiskTracking")},children:[(0,f.jsx)(aq,{}),(0,f.jsx)(an,{}),(0,f.jsx)(al,{})]})},as=c(90877),at=c(4472),au=c(83571),av=c(73137),aw=i()(function(){return c.e(497).then(c.bind(c,497)).then(function(a){return a.NoMatchNextjsV2})},{loadableGenerated:{webpack:function(){return[497]}},ssr:!1}),ax=i()(function(){return c.e(4754).then(c.bind(c,64754))},{loadableGenerated:{webpack:function(){return[64754]}},ssr:!1}),ay=i()(function(){return Promise.all([c.e(7835),c.e(6632)]).then(c.bind(c,6632)).then(function(a){return a.AppInfoIcon})},{loadableGenerated:{webpack:function(){return[6632]}},ssr:!1}),az=function(a){var b=a.children,c=a.serverSidePropsResult,h=a.successScaffoldProps,i=a.themeProvider,j=a.errorBoundaryFallback,n=a.errorBoundaryOnError,v=a.renderServerError;g.useEffect(function(){(0,q.kO)(R,L.enableGDPRConsent||!1)});var w=c.ssrPageProps,z=w.API_GATEWAY_URL,A=w.language,B=w.cookie,C=w.env,H=w.experience,J=w.originalUrl,L=w.gdprData,M=w.initialApolloState,N=w.isMobileServerSide,O=w.requestId,Q=w.query,R=w.trackingConsent,S=w.uriToBeBlockedOnSSR,T=w.viewState,U=w.isOnVPN,V=w.ipRegion,W=w.dvsHash,X=w.dvsEvaluationCache,Y=w.nextJsCookies,Z=w.pageType;(0,D.PX)(null==C?void 0:C.NODE_ENV);var $=T.dynamicValues,_={isSSR:!0,pageURL:new URL(J),cookies:new o.Z(B),environment:C.NODE_ENV,language:A,query:Q,trackingConsent:R,isMobileServerSide:N,isOnVPN:U,ipRegion:V},aa=Y.dd_device_id||"",ab=(0,as.c)(R,$,J,aa),ac=ab.rolloutEnabled,ad=ab.integrations;R&&(R.integrations=ad);var ae=i||x.W,af=c.resultStatus===y.Y.success?(0,f.jsx)(aA,(0,e.Z)((0,d.Z)({baseResources:c.baseResources,ssrPageProps:c.ssrPageProps},h({baseResources:c.baseResources,pageProps:c.pageProps})),{children:"function"==typeof b?b({baseResources:c.baseResources,pageProps:c.pageProps}):b})):c.resultStatus===y.Y.crash?void 0!==v?v(c.error):(0,f.jsx)(aw,{error:c.error,origin:"ssr-scaffold"}):(0,f.jsx)(aw,{origin:"ssr-scaffold"}),ag=(0,at.e)(),ah=c.pageType||Z;return(0,f.jsx)(l.eT,{client:(0,K.in)({initialState:M,experience:H,language:A,cookies:"",uri:z,pageUrl:J,requestId:O,uriToBeBlockedOnSSR:S}),children:(0,f.jsx)(at.d,{client:ag,children:(0,f.jsx)(G.WD,{dynamicValues:$,search:new URL(J).search,children:(0,f.jsxs)(au.M1,{name:(0,av.Uc)(ah),children:[(0,f.jsxs)(k(),{children:[(0,f.jsx)("meta",{name:"dd_locale",content:A},"locale-meta"),(0,u.Z)(H),function(){if(c.resultStatus===y.Y.success){var a=h({baseResources:c.baseResources,pageProps:c.pageProps}).preloadImages;if(a)return a.map(function(a){return(0,f.jsx)("link",{rel:"preload",as:"image",href:a},a)})}return null}(),(0,t.I)()]}),(0,f.jsx)(p.Z,{children:(0,f.jsxs)(r.ZP,{initialProps:(0,d.Z)({},_),children:[(0,f.jsx)("div",{"data-dd-locale":A}),(0,f.jsx)(s.GlobalScriptsLoader,{experience:H,gdprData:L,trackingConsent:R,telemetryRollout:ac}),(0,f.jsx)(E.S,{track:F.ZP,fallback:j,onError:n,children:(0,f.jsx)(m.Z,{experience:H,children:(0,f.jsx)(ae,{experience:H,children:(0,f.jsxs)(P.J,{dvsHash:W,dvsEvaluationCache:X,children:[(0,f.jsx)(ar,{}),af,(0,f.jsx)(I.B4,{})]})})})})]})})]})})})})},aA=function(a){var b=a.children,c=a.ssrPageProps,d=a.baseResources,e=a.pageTitle,g=a.pageDescription,h=a.alternateUrl,i=a.ldJSON,j=a.languageMetaConfig,l=a.hideFromSearchEngineBots,m=a.renderBeforeLayerManager,o=void 0===m?function(a){return a}:m,p=a.ogMetadata,q=a.isDeferGoogleMapsScriptEnabled,r=a.headTags,s=c.experience,t=c.originalUrl,u=c.routeLocale,x=c.language,y=c.pageType;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(k(),{children:[(0,f.jsx)("title",{children:(0,v.SH)(e)}),(0,f.jsx)("meta",{name:"description",content:(0,v.SH)(g||e)}),void 0!==r?r:null,(0,L.C)(p),void 0!==l&&l&&(0,f.jsx)("meta",{name:"robots",content:"noindex"}),j&&(0,w.Z)(null!=h?h:t,u,j,s),i&&(0,f.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:i}},"ld-json-ssr-scaffold"),(0,O.p)({language:x,pageType:y,isDeferGoogleMapsScriptEnabled:q})]}),(0,f.jsx)(C.default,{children:function(){return(0,f.jsx)("main",{children:(0,f.jsx)(H.XN,{children:o((0,f.jsx)(n.default,{children:(0,f.jsx)(aB,{pageType:y,baseResources:d,ssrPageProps:c,children:b})}))})})}})]})},aB=function(a){var b=a.pageType,c=a.baseResources,d=a.ssrPageProps,e=a.children;(0,N.$)(d.experience,c.consumer),(0,B.do)(b),(0,A.Z)(b);var g=(0,M.R)(b);return(0,f.jsxs)(z.z1.Provider,{value:g,children:[e,(0,f.jsx)(ay,{gqlInformation:d.gqlInformation}),(0,f.jsx)(J.Z,{}),(0,f.jsx)(ax,{experience:d.experience})]})}},4472:function(a,b,c){c.d(b,{d:function(){return h},e:function(){return g}});var d=c(85893);c(67294);var e=c(93645),f=c(85945),g=function(){return new e.S({logger:{error:console.log,log:console.log,warn:console.warn}})},h=function(a){var b=a.client,c=a.children;return(0,d.jsx)(f.aH,{client:b,children:c})}}}])